# 数字系列

对整数数列乘 `p`，或者用 `p` 的指数次幂，除以 `m` 取余数，填充颜色，画方格，得到图形。没有边框。

## 目前代码

- `numbers_1.pde`：整数倍
- `numbers_2.pde`：指数
- `numbers_3.pde`：三角形数的整数倍
- `numbers_4.pde`：完全平方数的整数倍
- `numbers_5.pde`：四面体数的整数倍
- `numbers_6.pde`：幂函数的整数倍
- `numbers_7.pde`：斐波那契数列的整数倍
- `numbers_8.pde`：二次函数的整数倍
- `numbers_9.pde`：二次函数的整数倍，指定或随机参数
- `numbers_10.pde`：二次函数的整数倍，指定或随机参数，加上随机指定纯色（或黑白）
- `numbers_11.pde`：指定一次函数，以及不同的代码结构

## 简介

### numbers_1.pde

从初始值 0 开始，一次加上整数 `p`，得到一个新的数，除以 `m` 取余数，把得到的数字对应一种颜色画出来

### numbers_2.pde  

从初始值 1 开始，一次乘以整数 `p`，得到 `p` 的整数次幂，除以 `m` 取余数，把得到的数字对应一种颜色画出来

### numbers_3.pde   

从初始值 0 开始，实现三角形数的项，再乘 `p`，除以 `m` 取余数，把得到的数字对应一种颜色画出来

### numbers_4.pde  

从初始值 0 开始，先平方再乘以 `p`，得到一个新的数，除以 `m` 取余数，把得到的数字对应一种颜色画出来

### numbers_5.pde  

从初始值 0 开始，实现四面体数的项，再乘 `p`，除以 `m` 取余数，把得到的数字对应一种颜色画出来

### numbers_6.pde  

从初始值 0 开始，计算每一个正整数的 `p` 次幂，除以 `m` 取余数，把得到的数字对应一种颜色画出来

### numbers_7.pde  

从初始值 1 开始，实现斐波那契数列的项，再乘 `p`，除以 `m` 取余数，把得到的数字对应一种颜色画出来

### numbers_8.pde  

实现指定二次函数 $a_2n^n+a_1n+a_0$ 的值，再乘 `p`，除以 `m` 取余数，把得到的数字对应一种颜色画出来

### numbers_9.pde

实现指定二次函数 $a_2n^n+a_1n+a_0$ 的值，再乘 `p`，除以 `m` 取余数，把得到的数字对应一种颜色画出来。也可以随机设置参数 `a2`，`a1`，`a0` 的值，再乘 `p`，除以 `m` 取余数，把得到的数字对应一种颜色画出来。

### numbers_10.pde

与 `numbers_9.pde` 类似，但是随机高饱和颜色或黑白灰。

### numbers_11.pde

与 `numbers_1.pde `相比  
采取新的结构  
把计算与画图分开成不同函数  
相应地，保存和更新过程也分开成函数  
画图部分只用一个 `for` 循环   
批量保存图形主要部分也用一个函数 `saveMultipleImages(saveMax)` 实现  

## 颜色说明

对不同数字除以 `m` 得到的余数有 `m-1` 种可能的值，最多可以对应 `m-1` 种不同颜色。  
你完全可以自定义颜色，或者就用常见的颜色来画图，如果想尽可能全面地显示细节，只要不同数字的颜色尽可能不同即可。如果不同数字对应相同或者过于相近的颜色，可能也有独特的视觉效果，也可能不能显示部分细节，使效果大打折扣。

### 纯色

设置 `HSB` 颜色模式，把范围调整成 `m`：

`colorMode(HSB, m);`

然后填充颜色：

`fill(a, m, m);`

其中 `a` 是计算得到的值，下同。  
这样 0 到 `m-1` 这 `m` 个整数就能对应于色相间距相等、饱和度和亮度都是最大值的颜色，不用另外计算。

这也是 `numbers_1.pde` 到 `numbers_9.pde` 默认颜色模式。

### 黑白灰  

要想让计算得到的可能最大的数字 `m-1` 对应白色，范围设置成 `m-1`：

`colorMode(RGB, m-1);`

然后填充颜色：

`fill(a);`

这也是 `numbers_11.pde` 的默认颜色模式。

由于范围随着 `m` 的变化对应颜色不仅数量增加，具体颜色值也会相应变化。

注意：当 `m` 太大时，可能会发现两个相邻的整数实际上对应的是相同颜色。

### 随机颜色

目前只有 `numbers_10.pde` 能在一定程度上随机指定颜色。

在 `numbers_10.pde` 中，颜色模式是：

`colorMode(HSB, 360, 255, 255); `

两种填充颜色方式：

- 随机指定高饱和度彩色：`fill(random(360), 255, 255)`
- 随机指定黑白灰：`fill(random(360))`

### 参数说明

一般默认画布尺寸 100 x 100 像素，10 x 10 格，部分代码默认画布尺寸不同注意查看。也可以设置不同的画布尺寸。

`w`：格子宽度，默认 10 个像素  
`h`：格子高度，默认 10 个像素  
`p`：处理所用参数，因处理方式而异  
`m`：除数，即对 `m` 取模运算    
`max_m`：在批量保存图片时设置的 `m` 的最大值，可用于防止一次保存太多图片  
`s`：保存图片用的文件名，会显示在控制台中，一般不用动

对于 `numbers_8.pde` 到 `numbers_10.pde`，除了上述参数，还有：  

`a2`：二次项系数，如果设置成0，得到一次函数式子  
`a1`：一次项系数  
`a0`：常数项，主要会影响到对应的具体颜色，不影响相邻两个格子对应数字的差值  

对于 `numbers_11.pde`：

`chromatic`：控制画彩色还是黑白  
`a1`：一次项  
`a0`：常数项  
`n0`：初始值。从而消除 `numbers_1.pde` 中初值一词的歧义  
`multiple`：控制是否批量保存图形  

参数更新方式：  

一般地，每一次循环都会更新参数 `p`，`m`，`s`，更新方式是先 `p`加 1，`m` 不变，`p` 加到 `m-1` 之后，再次更新又从 1 开始，同时 `m` 加 1。  
对于 `numbers_9.pde`，点击鼠标左键随机指定参数 `a2`，`a1`，`a0`，数字键更新参数 `p`（相应的，`m`），`a2`，`a1`，`a0`，且没有`max_m`。  
对于 `numbers_10.pde`，与 `numbers_9.pde` 类似，只是只有改变 `m` 值才会重新指定随机颜色。

## 使用方式

### 直接运行

用 Processing 打开，直接运行即可。

如果一切正常，你能在一个单独的窗口上看到预期图形，同时会在控制台找到当前有关信息。想更新参数看下一张图形就点击鼠标左键，想保存这张图形就点击鼠标右键，文件名称已经帮你写好了，就是控制台显示的信息。还可以尝试手动调整各种参数实现不同视觉效果。  

### 如果你想要一次保存一堆图形

这部分只适用于 `numbers_1.pde` 到 `numbers_8.pde`。

注释掉 `setup()` 中的 `noLoop();` 从而自动画出下一幅图，取消注释 `draw()` 中的 `saveFrame(s);` 从而自动保存，然后根据你自己的喜好调整各种参数，会画一张保存一张直到 `m` 达到 `max_m` 就停止。这个过程可能要稍微等一等。如果感觉有些花哨可以最小化显示窗口直到画完。在代码所在文件夹可以查看保存的图形。

如果你想保存调整参数之后的一堆图形，并且避免不同类型的图形混在一起，就新建文件夹，把原 `.pde` 文件复制到新文件夹中，然后重命名，使复制后的 `.pde` 文件和所在文件夹名称一致，然后就可以单独保存一类图形了。

你甚至可以让参数一帧一帧自动更新慢慢看不同图形，不需要每次都点击鼠标——通过设置 `frameRate(1)` 或者其他比较小的数字来实现。

### 如果你想要不同视觉效果

试一试调整各参数值。换用不同的 `p`，`m` 的值画不同的图形。换用不同的画布尺寸来错开画出的图形。

也可以更换颜色模式试一试。

### numbers_9.pde 的使用方式

由于 `numbers_9.pde` 的主要目的是，不中断代码运行就能查看不同参数值对应的不同视觉效果，交互方式与前面的代码有明显差异：

点击鼠标左键随机设置参数，点击鼠标右键保存图形  
按下 `1` 键画下一张图形，按下 `2` 键画上一张图形  
按下 `3` 键参数 `a2` 加 1，按下 `4` 键参数 `a2` 减 1  
按下 `5` 键参数 `a1` 加 1，按下 `6` 键参数 `a1` 减 1  
按下 `7` 键参数 `a0` 加 1，按下 `8` 键参数 `a0` 减 1  

### numbers_10.pde 的使用方式

与 `numbers_9.pde` 类似。只是目前设置随机颜色只能通过改变 `m` 值实现，这样便于查看相同的颜色组合不同 `a2`、`a1`、`a0` 的视觉效果差异。  
